<div class="container">
  <div class="search-ui" [ngStyle]="{'width': WidthSize, 'height': HeightSize}">
    <div class="sub-search-bar">
      <div class="sub-search-icon">
        <svg
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M17.5 17.5L14.5834 14.5833M16.6667 9.58333C16.6667 13.4954 13.4954 16.6667 9.58333 16.6667C5.67132 16.6667 2.5 13.4954 2.5 9.58333C2.5 5.67132 5.67132 2.5 9.58333 2.5C13.4954 2.5 16.6667 5.67132 16.6667 9.58333Z"
            stroke="#667085"
            stroke-width="1.66667"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </div>
      <input
        type="text"
        placeholder="Search"
        (click)="openPopup()"
        id="sub-input"
      />
    </div>
  </div>
</div>

<div *ngIf="isPopupOpen" class="main">
  <div class="popup">
    <div class="main-search-bar">
      <div class="main-search-icon">
        <svg
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M17.5 17.5L14.5834 14.5833M16.6667 9.58333C16.6667 13.4954 13.4954 16.6667 9.58333 16.6667C5.67132 16.6667 2.5 13.4954 2.5 9.58333C2.5 5.67132 5.67132 2.5 9.58333 2.5C13.4954 2.5 16.6667 5.67132 16.6667 9.58333Z"
            stroke="#667085"
            stroke-width="1.66667"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </div>
      <input type="text" placeholder="Search" id="main-input" />
      <div class="close-icon">
        <button (click)="closePopup()">
          <svg
            width="28"
            height="24"
            viewBox="0 0 28 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g style="mix-blend-mode: multiply">
              <rect
                x="0.5"
                y="0.5"
                width="27"
                height="23"
                rx="3.5"
                fill="#F9FAFB"
              />
              <rect
                x="0.5"
                y="0.5"
                width="27"
                height="23"
                rx="3.5"
                stroke="#EAECF0"
              />
              <path
                d="M7.84801 17.2287C7.4536 17.2287 7.09233 17.1326 6.7642 16.9403C6.43608 16.7448 6.17424 16.483 5.97869 16.1548C5.78646 15.8267 5.69034 15.4654 5.69034 15.071C5.69034 14.6733 5.78646 14.3104 5.97869 13.9822C6.17424 13.6541 6.43608 13.3923 6.7642 13.1967C7.09233 13.0012 7.4536 12.9034 7.84801 12.9034H9.00142V10.9048H7.84801C7.4536 10.9048 7.09233 10.8087 6.7642 10.6165C6.43608 10.4209 6.17424 10.1607 5.97869 9.83594C5.78646 9.50781 5.69034 9.14489 5.69034 8.74716C5.69034 8.34943 5.78646 7.98816 5.97869 7.66335C6.17424 7.33523 6.43608 7.07505 6.7642 6.88281C7.09233 6.68726 7.4536 6.58949 7.84801 6.58949C8.24574 6.58949 8.60866 6.68726 8.93679 6.88281C9.26491 7.07505 9.52675 7.33523 9.7223 7.66335C9.91785 7.98816 10.0156 8.34943 10.0156 8.74716V9.89062H12.0142V8.74716C12.0142 8.34943 12.1103 7.98816 12.3026 7.66335C12.4981 7.33523 12.7583 7.07505 13.0831 6.88281C13.4112 6.68726 13.7741 6.58949 14.1719 6.58949C14.5696 6.58949 14.9309 6.68726 15.2557 6.88281C15.5838 7.07505 15.844 7.33523 16.0362 7.66335C16.2318 7.98816 16.3295 8.34943 16.3295 8.74716C16.3295 9.14489 16.2318 9.50781 16.0362 9.83594C15.844 10.1607 15.5838 10.4209 15.2557 10.6165C14.9309 10.8087 14.5696 10.9048 14.1719 10.9048H13.0284V12.9034H14.1719C14.5696 12.9034 14.9309 13.0012 15.2557 13.1967C15.5838 13.3923 15.844 13.6541 16.0362 13.9822C16.2318 14.3104 16.3295 14.6733 16.3295 15.071C16.3295 15.4654 16.2318 15.8267 16.0362 16.1548C15.844 16.483 15.5838 16.7448 15.2557 16.9403C14.9309 17.1326 14.5696 17.2287 14.1719 17.2287C13.7741 17.2287 13.4112 17.1326 13.0831 16.9403C12.7583 16.7448 12.4981 16.483 12.3026 16.1548C12.1103 15.8267 12.0142 15.4654 12.0142 15.071V13.9176H10.0156V15.071C10.0156 15.4654 9.91785 15.8267 9.7223 16.1548C9.52675 16.483 9.26491 16.7448 8.93679 16.9403C8.60866 17.1326 8.24574 17.2287 7.84801 17.2287ZM7.84801 16.2145C8.06013 16.2145 8.25237 16.1631 8.42472 16.0604C8.60038 15.9576 8.73958 15.8201 8.84233 15.6477C8.94839 15.4721 9.00142 15.2798 9.00142 15.071V13.9176H7.84801C7.6392 13.9176 7.44697 13.9706 7.27131 14.0767C7.09896 14.1795 6.96141 14.3187 6.85866 14.4943C6.75592 14.6667 6.70455 14.8589 6.70455 15.071C6.70455 15.2798 6.75592 15.4721 6.85866 15.6477C6.96141 15.8201 7.09896 15.9576 7.27131 16.0604C7.44697 16.1631 7.6392 16.2145 7.84801 16.2145ZM7.84801 9.89062H9.00142V8.74716C9.00142 8.53504 8.94839 8.3428 8.84233 8.17045C8.73958 7.99811 8.60038 7.86056 8.42472 7.75781C8.25237 7.65507 8.06013 7.60369 7.84801 7.60369C7.6392 7.60369 7.44697 7.65507 7.27131 7.75781C7.09896 7.86056 6.96141 7.99811 6.85866 8.17045C6.75592 8.3428 6.70455 8.53504 6.70455 8.74716C6.70455 8.95928 6.75592 9.15317 6.85866 9.32883C6.96141 9.50118 7.09896 9.63873 7.27131 9.74148C7.44697 9.84091 7.6392 9.89062 7.84801 9.89062ZM13.0284 9.89062H14.1719C14.384 9.89062 14.5762 9.84091 14.7486 9.74148C14.9209 9.63873 15.0585 9.50118 15.1612 9.32883C15.264 9.15317 15.3153 8.95928 15.3153 8.74716C15.3153 8.53504 15.264 8.3428 15.1612 8.17045C15.0585 7.99811 14.9209 7.86056 14.7486 7.75781C14.5762 7.65507 14.384 7.60369 14.1719 7.60369C13.9598 7.60369 13.7659 7.65507 13.5902 7.75781C13.4179 7.86056 13.2803 7.99811 13.1776 8.17045C13.0781 8.3428 13.0284 8.53504 13.0284 8.74716V9.89062ZM14.1719 16.2145C14.384 16.2145 14.5762 16.1631 14.7486 16.0604C14.9209 15.9576 15.0585 15.8201 15.1612 15.6477C15.264 15.4721 15.3153 15.2798 15.3153 15.071C15.3153 14.8589 15.264 14.6667 15.1612 14.4943C15.0585 14.3187 14.9209 14.1795 14.7486 14.0767C14.5762 13.9706 14.384 13.9176 14.1719 13.9176H13.0284V15.071C13.0284 15.2798 13.0781 15.4721 13.1776 15.6477C13.2803 15.8201 13.4179 15.9576 13.5902 16.0604C13.7659 16.1631 13.9598 16.2145 14.1719 16.2145ZM10.0156 12.9034H12.0142V10.9048H10.0156V12.9034ZM22.687 6.34091L19.4057 18.5312H18.3319L21.6131 6.34091H22.687Z"
                fill="#475467"
              />
            </g>
          </svg>
        </button>
      </div>
    </div>
    <hr />
    <div id="search-results" class="search-results">
      <div class="recent"><strong>Recent</strong></div>
      <div
        *ngFor="let object of array; let index = index"
        class="history"
        (click)="handleClick(index)"
        [class.active]="object.selectState"
      >
        <p>{{ object.history }}</p>
      </div>
    </div>
  </div>
</div>
